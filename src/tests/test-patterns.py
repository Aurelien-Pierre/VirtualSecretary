import re
import os
import sys

SCRIPT_DIR = os.path.dirname(os.path.abspath(__file__))
sys.path.append(os.path.dirname(SCRIPT_DIR))

from core import patterns

samples = """
Should be caught:
- 12h15
- 12:15
- 12:15:00
- 12am
- 12 am
- 12 h
- 12:15:00Z
- 12:15:00+01
- 12:15:00 UTC+1
- 6:45 am
- 6:45am
- 6 am
- 6am
- 24 h
- 12 h 12
- 12:45 UTC+2
- 12:45Z
- 14:45+01
- 14:45:00-02
- 15H


Should be ignored:
- 1
- 23
- 45 $
- 12 : 01
- 2022-12-01
- 1 â‚¬
"""

matches = re.findall(patterns.TIME_PATTERN, samples)

reference = [('12', 'h', '15', '', '', ''), ('12', ':', '15', '', '', ''), ('12', ':', '15', '00', '', ''), ('12', 'am', '', '', '', ''), ('12', 'am', '', '', '', ''), ('12', 'h', '', '', '', ''), ('12', ':', '15', '00', 'Z', ''), ('12', ':', '15', '00', '', '+01'), ('12', ':', '15', '00', 'UTC', '+1'), ('6', ':', '45', '', 'am', ''), ('6', ':', '45', '', 'am', ''), ('6', 'am', '', '', '', ''), ('6', 'am', '', '', '', ''), ('24', 'h', '', '', '', ''), ('12', 'h', '12', '', '', ''), ('12', ':', '45', '', 'UTC', '+2'), ('12', ':', '45', '', 'Z', ''), ('14', ':', '45', '', '', '+01'), ('14', ':', '45', '00', '', '-02'), ('15', 'H', '', '', '', ''), ('12', ':', '01', '', '', '')]

assert matches == reference

[print(m) for m in matches]
